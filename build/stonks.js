"use strict";(()=>{function S(c){let i={};return["utm_campaign","utm_source","utm_medium","utm_term","utm_content"].forEach(u=>{let f=c.get(u);f&&(i[u]=f)}),i}function m(c){if(!c)return;let i=c.split(";"),u={};for(let f of i){let d=f.split("=").map(b=>b.trim());d.length!==2||d[0]===""||d[1]===""||(u[d[0]]=d[1])}return Object.keys(u).length===0?void 0:u}(()=>{if(!document)return;let c=null;window.stonks={event:b,view:k};let i=document.currentScript,u=i?.getAttribute("data-hash-routing")!==null,f={isLocalhost:/^localhost$|^127(\.[0-9]+){0,2}\.[0-9]+$|^\[::1?\]$/.test(location.hostname)||location.protocol==="file:",isHeadlessBrowser:!!(window._phantom||window.__nightmare||window.navigator.webdriver||window.Cypress)};async function d(t){let n=i?.getAttribute("data-url")||"https://collector.onedollarstats.com/events",e=new URL(location.href),o=i.getAttribute("data-debug"),r=!1;if(o)try{let l=new URL(`https://${o}${e.pathname}`);e.hostname!==l.hostname&&(r=!0,e=l)}catch{return}e.search="","path"in t&&t.path&&(e.pathname=t.path);let s=e.href.replace(/\/$/,""),a=t.referrer??void 0;if(!a){let l=document.referrer&&document.referrer!=="null"?document.referrer:void 0;if(l){let P=new URL(l);P.hostname!==e.hostname&&(a=P.href)}}let p={u:s,e:[{t:t.type,h:u,r:a,p:t.props}]};r&&(p.debug=r),t.utm&&Object.keys(t.utm).length>0&&(p.qs=t.utm);let g=JSON.stringify(p),v=btoa(g),h=new Image(1,1);h.onerror=()=>{navigator.sendBeacon?.(n,g)||fetch(n,{method:"POST",body:g,headers:{"Content-Type":"application/json"},keepalive:!0}).catch(l=>console.error("[onedollarstats] fetch() failed:",l.message))},h.src=`${n}?data=${v}`}async function b(t,n,e){if(y())return;let o={};typeof n=="string"?(o.path=n,e&&(o.props=e)):typeof n=="object"&&(o.props=n);let r=o?.path||void 0;if(!r){let s=document.body?.getAttribute("data-s:path")||document.querySelector('meta[name="stonks-path"]')?.getAttribute("content");s&&(r=s)}d({type:t,props:o?.props,path:r})}function R(t){if(t.type==="auxclick"&&t.button!==1)return;let n=t.target,e=n.getAttribute("data-s:event");if(!e)return;let o=n.getAttribute("data-s:event-props"),r=o?m(o):void 0,s=n.getAttribute("data-s:event-path")||void 0;b(e,s,r)}async function k(t,n){let e={};typeof t=="string"?(e.path=t,n&&(e.props=n)):typeof t=="object"&&(e.props=t),A({path:e?.path,props:e?.props},!1)}async function A(t,n=!0){if(n&&y())return;let e=new URLSearchParams(location.search),o=S(e),r=t?.path||void 0;if(!r){let a=document.body?.getAttribute("data-s:path")||document.querySelector('meta[name="stonks-path"]')?.getAttribute("content");a&&(r=a)}let s=t.props||void 0;if(!s){let a=i?.getAttribute("data-props"),p=a?m(a)||{}:{},g=document.querySelectorAll("[data-s\\:view-props]");for(let v of Array.from(g)){let h=v.getAttribute("data-s:view-props");if(!h)continue;let l=m(h);Object.assign(p,l)}s=p}d({type:"PageView",props:Object.keys(s).length>0?s:void 0,path:r,utm:o})}async function w(){let t=document.querySelector('meta[name="stonks-collect"]')?.getAttribute("content"),n=document.body?.getAttribute("data-s:collect");if(t==="false"||n==="false"){c=null;return}if(!(i?.getAttribute("data-autocollect")!=="false")&&t!=="true"&&n!=="true"){c=null;return}if(!u&&c===location.pathname){console.warn("Ignoring event PageView - pathname has not changed");return}if(y())return;c=location.pathname;let o=i?.getAttribute("data-props"),r=o?m(o)||{}:{},s=document.querySelectorAll("[data-s\\:view-props]");for(let a of Array.from(s)){let p=a.getAttribute("data-s:view-props");if(!p)continue;let g=m(p);Object.assign(r,g)}A({props:Object.keys(r).length>0?r:void 0},!1)}function y(){return!!(f.isLocalhost&&!i?.getAttribute("data-debug")||f.isHeadlessBrowser)}if(window.history.pushState){let t=window.history.pushState;window.history.pushState=function(n,e,o){t.apply(this,[n,e,o]),window.requestAnimationFrame(()=>{w()})},window.addEventListener("popstate",()=>{window.requestAnimationFrame(()=>{w()})})}document.visibilityState!=="visible"?document.addEventListener("visibilitychange",()=>{!c&&document.visibilityState==="visible"&&w()}):w(),document.addEventListener("click",R)})();})();
